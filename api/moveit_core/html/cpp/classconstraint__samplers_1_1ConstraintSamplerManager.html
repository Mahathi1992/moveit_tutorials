<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>moveit_core: constraint_samplers::ConstraintSamplerManager Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="jquery.js"></script>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceconstraint__samplers.html">constraint_samplers</a></li><li class="navelem"><a class="el" href="classconstraint__samplers_1_1ConstraintSamplerManager.html">ConstraintSamplerManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classconstraint__samplers_1_1ConstraintSamplerManager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">constraint_samplers::ConstraintSamplerManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class assists in the generation of a <a class="el" href="classconstraint__samplers_1_1ConstraintSampler.html" title="ConstraintSampler is an abstract base class that allows the sampling of a kinematic state for a parti...">ConstraintSampler</a> for a particular group from a moveit_msgs::Constraints.  
 <a href="classconstraint__samplers_1_1ConstraintSamplerManager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="constraint__sampler__manager_8h_source.html">constraint_sampler_manager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac044476925e095d2e81f803a9bc85d55"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconstraint__samplers_1_1ConstraintSamplerManager.html#ac044476925e095d2e81f803a9bc85d55">ConstraintSamplerManager</a> ()</td></tr>
<tr class="memdesc:ac044476925e095d2e81f803a9bc85d55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empty constructor.  <a href="classconstraint__samplers_1_1ConstraintSamplerManager.html#ac044476925e095d2e81f803a9bc85d55">More...</a><br /></td></tr>
<tr class="separator:ac044476925e095d2e81f803a9bc85d55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ca518d5def517db7c255bc32db9d470"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconstraint__samplers_1_1ConstraintSamplerManager.html#a4ca518d5def517db7c255bc32db9d470">registerSamplerAllocator</a> (const ConstraintSamplerAllocatorPtr &amp;sa)</td></tr>
<tr class="memdesc:a4ca518d5def517db7c255bc32db9d470"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows the user to specify an alternate ConstraintSamplerAllocation.  <a href="classconstraint__samplers_1_1ConstraintSamplerManager.html#a4ca518d5def517db7c255bc32db9d470">More...</a><br /></td></tr>
<tr class="separator:a4ca518d5def517db7c255bc32db9d470"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29e0dc17cd921ab53b80f3dbe66e2c3f"><td class="memItemLeft" align="right" valign="top">ConstraintSamplerPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconstraint__samplers_1_1ConstraintSamplerManager.html#a29e0dc17cd921ab53b80f3dbe66e2c3f">selectSampler</a> (const planning_scene::PlanningSceneConstPtr &amp;scene, const std::string &amp;group_name, const moveit_msgs::Constraints &amp;constr) const</td></tr>
<tr class="memdesc:a29e0dc17cd921ab53b80f3dbe66e2c3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selects among the potential sampler allocators.  <a href="classconstraint__samplers_1_1ConstraintSamplerManager.html#a29e0dc17cd921ab53b80f3dbe66e2c3f">More...</a><br /></td></tr>
<tr class="separator:a29e0dc17cd921ab53b80f3dbe66e2c3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a1d10bfb5979b25595edb38f37613ad5c"><td class="memItemLeft" align="right" valign="top">static ConstraintSamplerPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconstraint__samplers_1_1ConstraintSamplerManager.html#a1d10bfb5979b25595edb38f37613ad5c">selectDefaultSampler</a> (const planning_scene::PlanningSceneConstPtr &amp;scene, const std::string &amp;group_name, const moveit_msgs::Constraints &amp;constr)</td></tr>
<tr class="memdesc:a1d10bfb5979b25595edb38f37613ad5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default logic to select a <a class="el" href="classconstraint__samplers_1_1ConstraintSampler.html" title="ConstraintSampler is an abstract base class that allows the sampling of a kinematic state for a parti...">ConstraintSampler</a> given a constraints message.  <a href="classconstraint__samplers_1_1ConstraintSamplerManager.html#a1d10bfb5979b25595edb38f37613ad5c">More...</a><br /></td></tr>
<tr class="separator:a1d10bfb5979b25595edb38f37613ad5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ab4ee5829025c2e66a1cfbf9cae73b103"><td class="memItemLeft" align="right" valign="top">std::vector&lt; ConstraintSamplerAllocatorPtr &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classconstraint__samplers_1_1ConstraintSamplerManager.html#ab4ee5829025c2e66a1cfbf9cae73b103">sampler_alloc_</a></td></tr>
<tr class="memdesc:ab4ee5829025c2e66a1cfbf9cae73b103"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the constraint sampler allocators, which will be tested in order <br  />
  <a href="classconstraint__samplers_1_1ConstraintSamplerManager.html#ab4ee5829025c2e66a1cfbf9cae73b103">More...</a><br /></td></tr>
<tr class="separator:ab4ee5829025c2e66a1cfbf9cae73b103"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class assists in the generation of a <a class="el" href="classconstraint__samplers_1_1ConstraintSampler.html" title="ConstraintSampler is an abstract base class that allows the sampling of a kinematic state for a parti...">ConstraintSampler</a> for a particular group from a moveit_msgs::Constraints. </p>
<p>It contains logic that will generate either a <a class="el" href="classconstraint__samplers_1_1JointConstraintSampler.html" title="JointConstraintSampler is a class that allows the sampling of joints in a particular group of the rob...">JointConstraintSampler</a>, an <a class="el" href="classconstraint__samplers_1_1IKConstraintSampler.html" title="A class that allows the sampling of IK constraints.">IKConstraintSampler</a>, or a <a class="el" href="classconstraint__samplers_1_1UnionConstraintSampler.html" title="This class exists as a union of constraint samplers. It contains a vector of constraint samplers,...">UnionConstraintSampler</a> depending on the contents of the Constraints message and the group in question. </p>

<p class="definition">Definition at line <a class="el" href="constraint__sampler__manager_8h_source.html#l00088">88</a> of file <a class="el" href="constraint__sampler__manager_8h_source.html">constraint_sampler_manager.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac044476925e095d2e81f803a9bc85d55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac044476925e095d2e81f803a9bc85d55">&#9670;&nbsp;</a></span>ConstraintSamplerManager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constraint_samplers::ConstraintSamplerManager::ConstraintSamplerManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Empty constructor. </p>

<p class="definition">Definition at line <a class="el" href="constraint__sampler__manager_8h_source.html#l00095">95</a> of file <a class="el" href="constraint__sampler__manager_8h_source.html">constraint_sampler_manager.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4ca518d5def517db7c255bc32db9d470"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ca518d5def517db7c255bc32db9d470">&#9670;&nbsp;</a></span>registerSamplerAllocator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void constraint_samplers::ConstraintSamplerManager::registerSamplerAllocator </td>
          <td>(</td>
          <td class="paramtype">const ConstraintSamplerAllocatorPtr &amp;&#160;</td>
          <td class="paramname"><em>sa</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allows the user to specify an alternate ConstraintSamplerAllocation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sa</td><td>The constraint sampler allocator that will be used </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="constraint__sampler__manager_8h_source.html#l00103">103</a> of file <a class="el" href="constraint__sampler__manager_8h_source.html">constraint_sampler_manager.h</a>.</p>

</div>
</div>
<a id="a1d10bfb5979b25595edb38f37613ad5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d10bfb5979b25595edb38f37613ad5c">&#9670;&nbsp;</a></span>selectDefaultSampler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constraint_samplers::ConstraintSamplerPtr constraint_samplers::ConstraintSamplerManager::selectDefaultSampler </td>
          <td>(</td>
          <td class="paramtype">const planning_scene::PlanningSceneConstPtr &amp;&#160;</td>
          <td class="paramname"><em>scene</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>group_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const moveit_msgs::Constraints &amp;&#160;</td>
          <td class="paramname"><em>constr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default logic to select a <a class="el" href="classconstraint__samplers_1_1ConstraintSampler.html" title="ConstraintSampler is an abstract base class that allows the sampling of a kinematic state for a parti...">ConstraintSampler</a> given a constraints message. </p>
<p>This function will generate a sampler using the joint_constraint, position_constraint, and orientation_constraint vectors from the Constraints argument. The type of constraint sampler that is produced depends on which constraint vectors have been populated. The following rules are applied:</p>
<ul>
<li>If every joint in the group indicated by group_name is constrained by a valid joint constraint in the joint_constraints vector, a <a class="el" href="classconstraint__samplers_1_1JointConstraintSampler.html" title="JointConstraintSampler is a class that allows the sampling of joints in a particular group of the rob...">JointConstraintSampler</a> with all bounded joints in returned.</li>
<li>If not every joint is constrained, but no position and orientation constraints are specified, or no valid <a class="el" href="classconstraint__samplers_1_1IKConstraintSampler.html" title="A class that allows the sampling of IK constraints.">IKConstraintSampler</a> can be created, then a <a class="el" href="classconstraint__samplers_1_1JointConstraintSampler.html" title="JointConstraintSampler is a class that allows the sampling of joints in a particular group of the rob...">JointConstraintSampler</a> with some unbounded joints is returned.</li>
<li>If position and orientation constraints are present and there is an IKSolver for the group, the function will attempt to create an <a class="el" href="classconstraint__samplers_1_1IKConstraintSampler.html" title="A class that allows the sampling of IK constraints.">IKConstraintSampler</a>.<ul>
<li>If there are multiple valid position/constraint pairings, the one with the smallest volume will be kept.</li>
<li>If no full pose is available, the function will attempt to create a position-only <a class="el" href="classconstraint__samplers_1_1IKConstraintSampler.html" title="A class that allows the sampling of IK constraints.">IKConstraintSampler</a>.</li>
<li>Finally, the function will attempt to create an orientation-only <a class="el" href="classconstraint__samplers_1_1IKConstraintSampler.html" title="A class that allows the sampling of IK constraints.">IKConstraintSampler</a>.</li>
<li>If there is a valid <a class="el" href="classconstraint__samplers_1_1IKConstraintSampler.html" title="A class that allows the sampling of IK constraints.">IKConstraintSampler</a>, then if no valid joint constraints are present then an <a class="el" href="classconstraint__samplers_1_1IKConstraintSampler.html" title="A class that allows the sampling of IK constraints.">IKConstraintSampler</a> will be returned.</li>
<li>If there are joint constraints, a <a class="el" href="classconstraint__samplers_1_1UnionConstraintSampler.html" title="This class exists as a union of constraint samplers. It contains a vector of constraint samplers,...">UnionConstraintSampler</a> with both the <a class="el" href="classconstraint__samplers_1_1JointConstraintSampler.html" title="JointConstraintSampler is a class that allows the sampling of joints in a particular group of the rob...">JointConstraintSampler</a> and the <a class="el" href="classconstraint__samplers_1_1IKConstraintSampler.html" title="A class that allows the sampling of IK constraints.">IKConstraintSampler</a> will be returned.</li>
</ul>
</li>
<li>If there is no direct IK solver for the group, or no valid <a class="el" href="classconstraint__samplers_1_1IKConstraintSampler.html" title="A class that allows the sampling of IK constraints.">IKConstraintSampler</a> could be generated, and there are subgroup IKSolvers, the function will attempt to generate a sampler from the various subgroup solvers.<ul>
<li>It will attempt to determine which constraints act on the IK link for the sub-group IK solvers, and attempts to create <a class="el" href="classconstraint__samplers_1_1ConstraintSampler.html" title="ConstraintSampler is an abstract base class that allows the sampling of a kinematic state for a parti...">ConstraintSampler</a> functions by recursively calling <a class="el" href="classconstraint__samplers_1_1ConstraintSamplerManager.html#a1d10bfb5979b25595edb38f37613ad5c">selectDefaultSampler</a> for the sub-group.</li>
<li>If any samplers are valid, it adds them to a vector of type ConstraintSamplerPtr.</li>
<li>Once it has iterated through each sub-group, if any samplers are valid, they are returned in a <a class="el" href="classconstraint__samplers_1_1UnionConstraintSampler.html" title="This class exists as a union of constraint samplers. It contains a vector of constraint samplers,...">UnionConstraintSampler</a>, along with a <a class="el" href="classconstraint__samplers_1_1JointConstraintSampler.html" title="JointConstraintSampler is a class that allows the sampling of joints in a particular group of the rob...">JointConstraintSampler</a> if one exists. <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scene</td><td>The planning scene that will be used to create the <a class="el" href="classconstraint__samplers_1_1ConstraintSampler.html" title="ConstraintSampler is an abstract base class that allows the sampling of a kinematic state for a parti...">ConstraintSampler</a> </td></tr>
    <tr><td class="paramname">group_name</td><td>The group name for which to create a sampler </td></tr>
    <tr><td class="paramname">constr</td><td>The set of constraints for which to create a sampler</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A valid ConstraintSamplerPtr if one could be allocated, and otherwise an empty ConstraintSamplerPtr </dd></dl>
</li>
</ul>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="constraint__sampler__manager_8cpp_source.html#l00056">56</a> of file <a class="el" href="constraint__sampler__manager_8cpp_source.html">constraint_sampler_manager.cpp</a>.</p>

</div>
</div>
<a id="a29e0dc17cd921ab53b80f3dbe66e2c3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29e0dc17cd921ab53b80f3dbe66e2c3f">&#9670;&nbsp;</a></span>selectSampler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">constraint_samplers::ConstraintSamplerPtr constraint_samplers::ConstraintSamplerManager::selectSampler </td>
          <td>(</td>
          <td class="paramtype">const planning_scene::PlanningSceneConstPtr &amp;&#160;</td>
          <td class="paramname"><em>scene</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>group_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const moveit_msgs::Constraints &amp;&#160;</td>
          <td class="paramname"><em>constr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Selects among the potential sampler allocators. </p>
<p>This function will iterate through the constraint sampler allocators, trying to find one that can service the constraints. The first one that can service the request will be called. If no allocators can service the Constraints, or there are no allocators, the selectDefaultSampler will be called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scene</td><td>The planning scene that will be passed into the constraint sampler </td></tr>
    <tr><td class="paramname">group_name</td><td>The group name for which to allocate the constraint sampler </td></tr>
    <tr><td class="paramname">constr</td><td>The constraints</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An allocated ConstraintSamplerPtr, or an empty pointer if none could be allocated </dd></dl>

<p class="definition">Definition at line <a class="el" href="constraint__sampler__manager_8cpp_source.html#l00043">43</a> of file <a class="el" href="constraint__sampler__manager_8cpp_source.html">constraint_sampler_manager.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ab4ee5829025c2e66a1cfbf9cae73b103"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4ee5829025c2e66a1cfbf9cae73b103">&#9670;&nbsp;</a></span>sampler_alloc_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;ConstraintSamplerAllocatorPtr&gt; constraint_samplers::ConstraintSamplerManager::sampler_alloc_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Holds the constraint sampler allocators, which will be tested in order <br  />
 </p>

<p class="definition">Definition at line <a class="el" href="constraint__sampler__manager_8h_source.html#l00175">175</a> of file <a class="el" href="constraint__sampler__manager_8h_source.html">constraint_sampler_manager.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="constraint__sampler__manager_8h_source.html">constraint_sampler_manager.h</a></li>
<li><a class="el" href="constraint__sampler__manager_8cpp_source.html">constraint_sampler_manager.cpp</a></li>
</ul>
</div><!-- contents -->

<br clear="all" />
<hr size="1"><div style="align: right;">
<a href="http://wiki.ros.org/moveit_core">moveit_core</a><br />
Author(s): Ioan Sucan <isucan@google.com>, Sachin Chitta <robot.moveit@gmail.com>, Acorn Pooley <acorn.pooley@sri.com></br />
<small>autogenerated on Tue Oct 19 2021 13:03:50</small>
</div>
</body>
</html>
